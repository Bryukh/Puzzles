webpackJsonp([2],{114:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(u){r=!0,i=u}finally{try{!o&&s["return"]&&s["return"]()}finally{if(r)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=function(e,t,n){for(var o=!0;o;){var r=e,i=t,a=n;o=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;return void 0===u?void 0:u.call(a)}var l=Object.getPrototypeOf(r);if(null===l)return void 0;e=l,t=i,n=a,o=!0,s=l=void 0}},c=n(5),f=o(c);n(225);var h=function(e){function t(){r(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),u(t,[{key:"render",value:function(){return f["default"].createElement("rect",s({},this.props,{className:"cell "+(this.props.isPainted?"painted":""),onMouseEnter:this.props.mouseIn,onMouseOut:this.props.mouseOut,onMouseDown:this.props.mouseDown,onTouchStart:this.props.touchDown,onTouchEnd:this.props.mouseUp,onTouchMove:this.props.touchMove,onMouseUp:this.props.mouseUp}))}}]),t}(f["default"].Component),p=function(e){function t(){r(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.mouseDown=!1,this.state={field:{},initField:{},isWin:!1,SIZE:5,PAINTED:2,baseSize:100}}return i(t,e),u(t,[{key:"componentWillMount",value:function(){for(var e=this.state.SIZE,t={},n=0;e>n;n++)for(var o=0;e>o;o++)t[n+"-"+o]=0;for(var n=0;n<this.state.PAINTED;n++){var r=Math.floor(Math.random()*e),i=Math.floor(Math.random()*e);t[r+"-"+i]=1}this.setState({initField:t}),this.clear(t)}},{key:"componentDidMount",value:function(){this.svg=document.getElementById("puzzleSvg")}},{key:"reset",value:function(){this.clear(),this.mouseDown=!1,this.setState({isWin:!1})}},{key:"clear",value:function(e){e=e||this.state.initField;var t=this.state.field,n=!0,o=!1,r=void 0;try{for(var i,a=Object.keys(e)[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;t[s]=e[s]}}catch(u){o=!0,r=u}finally{try{!n&&a["return"]&&a["return"]()}finally{if(o)throw r}}this.setState({field:t})}},{key:"handleCursorIn",value:function(e,t){if(this.mouseDown){var n=this.state.field;n[e]?this.gameOver():(n[e]=1,this.setState({field:n}),this.checkWin())}}},{key:"handleCursorOut",value:function(e,t){}},{key:"handleTouchDown",value:function(e,t){this.currentCoor=e,this.handleMouseDown(e,t)}},{key:"handleTouchMove",value:function(e,t){t.preventDefault();var n=this.svg.getBoundingClientRect(),o=n.width/this.state.SIZE,r=Math.floor((t.touches[0].pageX-n.left)/o),i=Math.floor((t.touches[0].pageY-n.top)/o),a=i+"-"+r;this.currentCoor!==a&&(this.handleCursorIn(a,t),this.currentCoor=a)}},{key:"handleCursorOutSVG",value:function(e){this.gameOver()}},{key:"handleMouseDown",value:function(e,t){this.mouseDown=!0;var n=this.state.field;n[e]=1,this.setState({field:n})}},{key:"handleMouseUp",value:function(e){e.preventDefault(),this.gameOver()}},{key:"checkWin",value:function(){var e=!0,t=this.state.field,n=!0,o=!1,r=void 0;try{for(var i,a=Object.keys(t)[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;e=e&&t[s]}}catch(u){o=!0,r=u}finally{try{!n&&a["return"]&&a["return"]()}finally{if(o)throw r}}e&&(console.log("WIN"),this.setState({isWin:!0}))}},{key:"gameOver",value:function(){this.mouseDown=!1,this.state.isWin||this.clear()}},{key:"render",value:function(){var e=this,t=this.state.baseSize,n=Object.keys(this.state.field).map(function(n){var o=n.split("-").map(function(e){return Number(e)}),r=a(o,2),i=r[0],s=r[1];return f["default"].createElement(h,{x:s*t,y:i*t,key:n,isPainted:e.state.field[n],mouseIn:e.handleCursorIn.bind(e,n),mouseOut:e.handleCursorOut.bind(e,n),mouseDown:e.handleMouseDown.bind(e,n),touchDown:e.handleTouchDown.bind(e,n),touchMove:e.handleTouchMove.bind(e,n),mouseUp:e.handleMouseUp.bind(e)})}),o=t*this.state.SIZE;return f["default"].createElement("div",{className:"row"},f["default"].createElement("div",{className:"col-xs-12 col-sm-10 col-sm-offset-1 col-md-6 col-md-offset-3 col-lg-4 col-lg-offset-4"},f["default"].createElement("div",{className:"container puzzle-container text-center painter-puzzle",id:"puzzle"},f["default"].createElement("svg",{id:"puzzleSvg",viewBox:"0 0 "+o+" "+o,onMouseLeave:this.handleCursorOutSVG.bind(this)},n))))}}]),t}(f["default"].Component);p.title="Painter",t["default"]=p,e.exports=t["default"]},117:function(e,t,n){t=e.exports=n(31)(),t.push([e.id,".painter-puzzle svg{padding:5px;pointer-events:all}.painter-puzzle rect.cell{fill:#c3ddeb;stroke:#036da6;stroke-width:5px;width:100px;height:100px;cursor:pointer}.painter-puzzle rect.cell.painted{fill:#55a8d4;transition-property:fill;transition-duration:.5s}.painter-puzzle rect.frame{fill:none;stroke-width:5px;stroke:#01486f}",""])},225:function(e,t,n){var o=n(117);"string"==typeof o&&(o=[[e.id,o,""]]);n(41)(o,{});o.locals&&(e.exports=o.locals)}});